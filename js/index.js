$(function(){
    var imgArray = [
        {
            "ur;": "	http://zaw-1254097928.cosgz.myqcloud.com/001.jpg",
            "title": "jQuery瀑布流特效"
        },
        {
            "ur;": "	http://zaw-1254097928.cosgz.myqcloud.com/002.jpg",
            "title": "jQuery瀑布流特效"
        },
        {
            "ur;": "	http://zaw-1254097928.cosgz.myqcloud.com/003.jpg",
            "title": "jQuery瀑布流特效"
        },
        {
            "ur;": "	http://zaw-1254097928.cosgz.myqcloud.com/004.jpg",
            "title": "jQuery瀑布流特效"
        },
        {
            "ur;": "	http://zaw-1254097928.cosgz.myqcloud.com/005.jpg",
            "title": "jQuery瀑布流特效"
        },
        {
            "ur;": "	http://zaw-1254097928.cosgz.myqcloud.com/006.jpg",
            "title": "jQuery瀑布流特效"
        },
        {
            "ur;": "	http://zaw-1254097928.cosgz.myqcloud.com/007.jpg",
            "title": "jQuery瀑布流特效"
        },
        {
            "ur;": "	http://zaw-1254097928.cosgz.myqcloud.com/008.jpg",
            "title": "jQuery瀑布流特效"
        },
        {
            "ur;": "	http://zaw-1254097928.cosgz.myqcloud.com/009.jpg",
            "title": "jQuery瀑布流特效"
        },
        {
            "ur;": "	http://zaw-1254097928.cosgz.myqcloud.com/010.jpg",
            "title": "jQuery瀑布流特效"
        },
        {
            "ur;": "	http://zaw-1254097928.cosgz.myqcloud.com/011.jpg",
            "title": "jQuery瀑布流特效"
        },
        {
            "ur;": "	http://zaw-1254097928.cosgz.myqcloud.com/012.jpg",
            "title": "jQuery瀑布流特效"
        },
        {
            "ur;": "	http://zaw-1254097928.cosgz.myqcloud.com/013.jpg",
            "title": "jQuery瀑布流特效"
        },
        {
            "ur;": "	http://zaw-1254097928.cosgz.myqcloud.com/014.jpg",
            "title": "jQuery瀑布流特效"
        },
        {
            "ur;": "	http://zaw-1254097928.cosgz.myqcloud.com/015.jpg",
            "title": "jQuery瀑布流特效"
        },
        {
            "ur;": "	http://zaw-1254097928.cosgz.myqcloud.com/016.jpg",
            "title": "jQuery瀑布流特效"
        },
        {
            "ur;": "	http://zaw-1254097928.cosgz.myqcloud.com/017.jpg",
            "title": "jQuery瀑布流特效"
        },
        {
            "ur;": "	http://zaw-1254097928.cosgz.myqcloud.com/018.jpg",
            "title": "jQuery瀑布流特效"
        },
        {
            "ur;": "	http://zaw-1254097928.cosgz.myqcloud.com/019.jpg",
            "title": "jQuery瀑布流特效"
        },
        {
            "ur;": "	http://zaw-1254097928.cosgz.myqcloud.com/020.jpg",
            "title": "jQuery瀑布流特效"
        },
        {
            "ur;": "	http://zaw-1254097928.cosgz.myqcloud.com/021.jpg",
            "title": "jQuery瀑布流特效"
        },
        {
            "ur;": "	http://zaw-1254097928.cosgz.myqcloud.com/022.jpg",
            "title": "jQuery瀑布流特效"
        },
        {
            "ur;": "	http://zaw-1254097928.cosgz.myqcloud.com/023.jpg",
            "title": "jQuery瀑布流特效"
        },
        {
            "ur;": "	http://zaw-1254097928.cosgz.myqcloud.com/024.jpg",
            "title": "jQuery瀑布流特效"
        },
        {
            "ur;": "	http://zaw-1254097928.cosgz.myqcloud.com/025.jpg",
            "title": "jQuery瀑布流特效"
        },
        {
            "ur;": "	http://zaw-1254097928.cosgz.myqcloud.com/026.jpg",
            "title": "jQuery瀑布流特效"
        },
        {
            "ur;": "	http://zaw-1254097928.cosgz.myqcloud.com/027.jpg",
            "title": "jQuery瀑布流特效"
        },
        {
            "ur;": "	http://zaw-1254097928.cosgz.myqcloud.com/028.jpg",
            "title": "jQuery瀑布流特效"
        },
        {
            "ur;": "	http://zaw-1254097928.cosgz.myqcloud.com/029.jpg",
            "title": "jQuery瀑布流特效"
        },
        {
            "ur;": "	http://zaw-1254097928.cosgz.myqcloud.com/030.jpg",
            "title": "jQuery瀑布流特效"
        },
        {
            "ur;": "	http://zaw-1254097928.cosgz.myqcloud.com/031.jpg",
            "title": "jQuery瀑布流特效"
        },
        {
            "ur;": "	http://zaw-1254097928.cosgz.myqcloud.com/032.jpg",
            "title": "jQuery瀑布流特效"
        },
        {
            "ur;": "	http://zaw-1254097928.cosgz.myqcloud.com/033.jpg",
            "title": "jQuery瀑布流特效"
        },
        {
            "ur;": "	http://zaw-1254097928.cosgz.myqcloud.com/034.jpg",
            "title": "jQuery瀑布流特效"
        },
        {
            "ur;": "	http://zaw-1254097928.cosgz.myqcloud.com/035.jpg",
            "title": "jQuery瀑布流特效"
        },
        {
            "ur;": "	http://zaw-1254097928.cosgz.myqcloud.com/036.jpg",
            "title": "jQuery瀑布流特效"
        },
        {
            "ur;": "	http://zaw-1254097928.cosgz.myqcloud.com/037.jpg",
            "title": "jQuery瀑布流特效"
        },
        {
            "ur;": "	http://zaw-1254097928.cosgz.myqcloud.com/038.jpg",
            "title": "jQuery瀑布流特效"
        },
        {
            "ur;": "	http://zaw-1254097928.cosgz.myqcloud.com/039.jpg",
            "title": "jQuery瀑布流特效"
        },
        {
            "ur;": "	http://zaw-1254097928.cosgz.myqcloud.com/040.jpg",
            "title": "jQuery瀑布流特效"
        },
        {
            "ur;": "	http://zaw-1254097928.cosgz.myqcloud.com/041.jpg",
            "title": "jQuery瀑布流特效"
        },
        {
            "ur;": "	http://zaw-1254097928.cosgz.myqcloud.com/042.jpg",
            "title": "jQuery瀑布流特效"
        },
        {
            "ur;": "	http://zaw-1254097928.cosgz.myqcloud.com/043.jpg",
            "title": "jQuery瀑布流特效"
        },
        {
            "ur;": "	http://zaw-1254097928.cosgz.myqcloud.com/044.jpg",
            "title": "jQuery瀑布流特效"
        },
        {
            "ur;": "	http://zaw-1254097928.cosgz.myqcloud.com/045.jpg",
            "title": "jQuery瀑布流特效"
        },
        {
            "ur;": "	http://zaw-1254097928.cosgz.myqcloud.com/046.jpg",
            "title": "jQuery瀑布流特效"
        },
        {
            "ur;": "	http://zaw-1254097928.cosgz.myqcloud.com/047.jpg",
            "title": "jQuery瀑布流特效"
        },
        {
            "ur;": "	http://zaw-1254097928.cosgz.myqcloud.com/048.jpg",
            "title": "jQuery瀑布流特效"
        }
    ];
    var html = "";
    for(var i = 0, len = imgArray.length; i < len; i++){
        html += "<div class='cell'>" + 
                        "<a href='javascript:;'>" + 
                        "<img src='" + imgArray[i].url + "' /></a>" + 
                        "<p>" + 
                            "<a href='javascript:;'>" + imgArray[i].title + "</a>" + 
                        "</p>" + 
                    "</div>'";
    }
    $('#waterfall').append(html);
    // 瀑布流初始化
    var opt = {
        getResource: function (index, render) { 
            //index为已加载次数,render为渲染接口函数,接受一个dom集合或jquery对象作为参数。通过ajax等异步方法得到的数据可以传入该接口进行渲染，如 render(elem)
            if (index >= 7) index = index % 7 + 1;
            var html = '';
            for (var i = 20 * (index - 1); i < 20 * (index - 1) + 20; i++) {
                var k = '';
                for (var ii = 0; ii < 3 - i.toString().length; ii++) {
                    k += '0';
                }
                k += i;
                // var src = "http://cued.xunlei.com/demos/publ/img/P_" + k + ".jpg";
                // html += '<div class="cell"><a href="#"><img src="' + src + '" /></a><p>' + k + '</p></div>';
            }
            return $(html);
        },
        auto_imgHeight: true,
        insert_type: 1
    }
    $('#waterfall').waterfall(opt);
});